{
  "properties": {
    "title": "${apptitle}"
  },
  "load": {
    "bundleLocations": [
      "localbundles",
      "bundles"
    ],
    "allowedBundles": [
      "system",
      "splashscreen",
      "templatelayout",
      "template-seasons",
      "theme-everlasting",
      "toolset",
      "map-init",
      "map-preload-2D",
      "map-preload-3D",
      "console",
      "notifier",
      "agssearch",
      "wizard",
      "dn_querybuilder"
    ],
    "require": [
      "${app}.app"
    ],
    "i18n": [
      "bundle"
    ]
  },
  "bundles": {
    "dn_querybuilder": {
      "QueryBuilderProperties": {
        "enableDistinctValues": true,
        "defaultLinkOperator": "$or",
        "defaultSpatialRelation": "everywhere",
        "useMemorySelectionStore": true,
        "useUserExtent": false,
        "allowNegation": false
      },
      "QueryBuilderWidgetModel": {
        "storeIds": [
          "esri",
          "countries",
          "baumkataster",
          "stoerungen"
        ]
      },
      "QueryTools": [
        {
          "id": "querybuilder_1441021732534",
          "title": "Show reported street damages that are not yet fixed in Münster",
          "iconClass": "icon-toolcase",
          "storeId": "stoerungen",
          "complexQuery": {
            "$and": [
              {
                "art": {
                  "$eq": 5
                }
              },
              {
                "status": {
                  "$eq": 1
                }
              }
            ],
            "geometry": {
              "$contains": {
                "xmin": -1454749.7653909875,
                "ymin": 4027109.2609186354,
                "xmax": 4454749.7653909875,
                "ymax": 8972890.739081364,
                "spatialReference": {
                  "wkid": 3857
                }
              }
            }
          },
          "options": {
            "editable": false,
            "editOptions": {
              "spatialRelation": false,
              "linkOperator": true,
              "editFields": [
                {
                  "not": false,
                  "field": false,
                  "relation": false,
                  "value": true
                },
                {
                  "not": false,
                  "field": false,
                  "relation": false,
                  "value": true
                }
              ]
            },
            "mode": "builder",
            "count": -1,
            "ignoreCase": false,
            "locale": {
              "language": "en",
              "country": "EN"
            },
            "sort": [
              {
                "attribute": "details",
                "descending": true
              }
            ]
          }
        },
        {
          "id": "querybuilder_1442569207538",
          "title": "Date Test [editable]",
          "iconClass": "icon-custom-info",
          "complexQuery": {
            "$and": [
              {
                "zeitpunkt": {
                  "$gte": ""
                }
              }
            ]
          },
          "options": {
            "mode": "builder",
            "editable": true,
            "editOptions": {
              "spatialRelation": false,
              "linkOperator": false,
              "editFields": [
                {
                  "not": false,
                  "field": false,
                  "relation": false,
                  "value": true
                }
              ]
            },
            "count": -1,
            "ignoreCase": false,
            "locale": {
              "language": "en",
              "country": "EN"
            }
          },
          "storeId": "stoerungen"
        }
      ]
    },
    "resultcenter": {
      "ActionController": {
        "zoomToFeatures": false,
        "zoomToSelected": false,
        "centerSelected": false,
        "zoomAfterDeletion": false,
        "zoomToClicked": false,
        "centerClicked": false
      },
      "FeatureMapVisualizer": {
        "useDataViewPaging": true
      }
    },
    "agssearch": {
      "AutoStoreRegistration": {
        "componentEnabled": true
      },
      "AGSStore": [
        {
          "id": "esri",
          "title": "Esri",
          "description": "Esri",
          "url": "https://services.conterra.de/arcgis/rest/services/common/standorte/FeatureServer/0",
          "fetchIdProperty": false,
          "useIn": [
            "selection"
          ]
        },
        {
          "id": "countries",
          "title": "Countries",
          "description": "Countries of the world",
          "url": "https://services.conterra.de/arcgis/rest/services/common/grenzen/MapServer/3",
          "fetchIdProperty": true,
          "useIn": [
            "selection"
          ]
        },
        {
          "id": "usa_cities",
          "title": "USA (Cities)",
          "description": "",
          "url": "http://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer/0",
          "fetchIdProperty": true,
          "useIn": [
            "selection"
          ]
        },
        {
          "id": "baumkataster",
          "title": "Baumkataster",
          "description": "",
          "url": "https://services.conterra.de/arcgis/rest/services/mapapps/Baumkataster_Zustand/FeatureServer/0",
          "useIn": [
            "selection"
          ],
          "fetchIdProperty": true
        },
        {
          "id": "stoerungen",
          "title": "Störungen",
          "description": "",
          "idProperty": "objectid",
          "url": "https://services.conterra.de/arcgis/rest/services/mapapps/stoerung/FeatureServer/0",
          "fetchIdProperty": true,
          "useIn": [
            "selection"
          ]
        }
      ]
    },
    "coordinateviewer": {
      "Config": {
        "decimalPlaces": 3,
        "showScale": true,
        "showCoordinates": true,
        "degreeFormat": true,
        "transformSrs": true,
        "targetSrs": "WGS84"
      }
    },
    "toolset": {
      "ToolsetManager": {
        "toolsets": [
          {
            "id": "mapview_tools",
            "tools": [
              "*"
            ],
            "registerWidget": {
              "widgetRole": "mapview_tools"
            },
            "container": "ignore",
            "windowType": "container",
            "cssClass": "muted"
          }
        ]
      }
    },
    "map-init": {
      "Config": {
        "basemaps": [
          {
            "id": "streets",
            "title": "${map.basemaps.street}",
            "basemap": "streets"
          },
          {
            "id": "topo",
            "title": "${map.basemaps.topo}",
            "basemap": "topo",
            "icon": "filter_hdr"
          },
          {
            "id": "gray",
            "title": "${map.basemaps.gray}",
            "basemap": "gray",
            "icon": "gradient"
          },
          {
            "id": "satellite",
            "title": "${map.basemaps.satellite}",
            "basemap": "satellite",
            "icon": "photo_camera",
            "description": "Satellit"
          }
        ],
        "map": {
          "layers": [
            {
              "id": "esri_group_sites",
              "title": "${map.operationalLayer.esrisites}",
              "url": "https://services.conterra.de/arcgis/rest/services/common/standorte/FeatureServer",
              "layerId": 0,
              "type": "AGS_FEATURE",
              "elevationInfo": {
                "mode": "on-the-ground"
              },
              "visible": true,
              "popupTemplate": {
                "title": "{STV_NAME}",
                "content": [
                  {
                    "type": "text",
                    "text": "Das k\u00F6lner Stadtviertel <b>{STV_NAME}</b>."
                  },
                  {
                    "type": "fields",
                    "fieldInfos": [
                      {
                        "fieldName": "STV_NR",
                        "label": "Nummer"
                      }
                    ]
                  }
                ]
              }
            }
          ],
          "ground": {
            "url": "https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",
            "type": "ELEVATION"
          }
        },
        "view": {
          "viewmode": "2D",
          "extent": {
            "xmin": -1000000,
            "ymin": 3000000,
            "xmax": 4000000,
            "ymax": 10000000,
            "spatialReference": 3857
          }
        }
      }
    },
    "themes": {
      "ThemeModel": {
        "_selectedTheme": "everlasting"
      }
    }
  }
}
